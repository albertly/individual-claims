/*!
 * pickadate.js v3.5.6, 2015/04/20
 * By Amsul, http://amsul.ca
 * Hosted on http://amsul.github.io/pickadate.js
 * Licensed under MIT
 */
!function(e){"function"==typeof define&&define.amd?define("picker",["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):this.Picker=e(jQuery)}(function(e){function t(i,a,s,f){function h(){return t._.node("div",t._.node("div",t._.node("div",t._.node("div",P.component.nodes(k.open),w.box),w.wrap),w.frame),w.holder,'tabindex="-1"')}function m(){S.data(a,P).addClass(w.input).val(S.data("value")?P.get("select",C.format):i.value),C.editable||S.on("click."+k.id,function(e){e.preventDefault(),P.open()}).on("keydown."+k.id,b),r(i,{haspopup:!0,expanded:!1,readonly:!1,owns:i.id+"_root"})}function g(){r(P.$root[0],"hidden",!0)}function v(){P.$holder.on({keydown:b,"focus.toOpen":_,blur:function(){S.removeClass(w.target)},focusin:function(e){P.$root.removeClass(w.focused),e.stopPropagation()},"mousedown click":function(t){var n=t.target;n!=P.$holder[0]&&(t.stopPropagation(),"mousedown"!=t.type||e(n).is("input, select, textarea, button, option")||(t.preventDefault(),P.$holder[0].focus()))}}).on("click","[data-pick], [data-nav], [data-clear], [data-close]",function(){var t=e(this),n=t.data(),o=t.hasClass(w.navDisabled)||t.hasClass(w.disabled),r=d();r=r&&(r.type||r.href),(o||r&&!e.contains(P.$root[0],r))&&P.$holder[0].focus(),!o&&n.nav?P.set("highlight",P.component.item.highlight,{nav:n.nav}):!o&&"pick"in n?(P.set("select",n.pick),C.closeOnSelect&&P.close(!0)):n.clear?(P.clear(),C.closeOnClear&&P.close(!0)):n.close&&P.close(!0)})}function y(){var t;C.hiddenName===!0?(t=i.name,i.name=""):(t=["string"==typeof C.hiddenPrefix?C.hiddenPrefix:"","string"==typeof C.hiddenSuffix?C.hiddenSuffix:"_submit"],t=t[0]+i.name+t[1]),P._hidden=e('<input type=hidden name="'+t+'"'+(S.data("value")||i.value?' value="'+P.get("select",C.formatSubmit)+'"':"")+">")[0],S.on("change."+k.id,function(){P._hidden.value=i.value?P.get("select",C.formatSubmit):""})}function $(){x&&l?P.$holder.find("."+w.frame).one("transitionend",function(){P.$holder[0].focus()}):P.$holder[0].focus()}function _(e){e.stopPropagation(),S.addClass(w.target),P.$root.addClass(w.focused),P.open()}function b(e){var t=e.keyCode,n=/^(8|46)$/.test(t);return 27==t?(P.close(!0),!1):void((32==t||n||!k.open&&P.component.key[t])&&(e.preventDefault(),e.stopPropagation(),n?P.clear().close():P.open()))}if(!i)return t;var x=!1,k={id:i.id||"P"+Math.abs(~~(Math.random()*new Date))},C=s?e.extend(!0,{},s.defaults,f):f||{},w=e.extend({},t.klasses(),C.klass),S=e(i),O=function(){return this.start()},P=O.prototype={constructor:O,$node:S,start:function(){return k&&k.start?P:(k.methods={},k.start=!0,k.open=!1,k.type=i.type,i.autofocus=i==d(),i.readOnly=!C.editable,i.id=i.id||k.id,"text"!=i.type&&(i.type="text"),P.component=new s(P,C),P.$root=e('<div class="'+w.picker+'" id="'+i.id+'_root" />'),g(),P.$holder=e(h()).appendTo(P.$root),v(),C.formatSubmit&&y(),m(),C.containerHidden?e(C.containerHidden).append(P._hidden):S.after(P._hidden),C.container?e(C.container).append(P.$root):S.after(P.$root),P.on({start:P.component.onStart,render:P.component.onRender,stop:P.component.onStop,open:P.component.onOpen,close:P.component.onClose,set:P.component.onSet}).on({start:C.onStart,render:C.onRender,stop:C.onStop,open:C.onOpen,close:C.onClose,set:C.onSet}),x=n(P.$holder[0]),i.autofocus&&P.open(),P.trigger("start").trigger("render"))},render:function(t){t?(P.$holder=e(h()),v(),P.$root.html(P.$holder)):P.$root.find("."+w.box).html(P.component.nodes(k.open));var n=P.get("highlight").obj,o=n.getDate()+" "+p[n.getMonth()]+" "+n.getFullYear();return $announcer.html(e("<p>").text(o)),P.trigger("render")},stop:function(){return k.start?(P.close(),P._hidden&&P._hidden.parentNode.removeChild(P._hidden),P.$root.remove(),S.removeClass(w.input).removeData(a),setTimeout(function(){S.off("."+k.id)},0),i.type=k.type,i.readOnly=!1,P.trigger("stop"),k.methods={},k.start=!1,P):P},open:function(n){return k.open?P:(S.addClass(w.active),r(i,"expanded",!0),setTimeout(function(){P.$root.addClass(w.opened),r(P.$root[0],"hidden",!1)},0),n!==!1&&(k.open=!0,x&&u.css("overflow","hidden").css("padding-right","+="+o()),$(),c.on("click."+k.id+" focusin."+k.id,function(e){var t=e.target;t!=i&&t!=document&&3!=e.which&&P.close(t===P.$holder[0])}).on("keydown."+k.id,function(n){var o=n.keyCode,r=P.component.key[o],i=n.target;if(27==o&&P.close(!0),9==o){var a,d,s="button:not([disabled]), select:not([disabled]), *[tabindex]",c=P.$root.find(s).filter(":visible"),u=e(document.activeElement),l=c.index(u);n.shiftKey?0!==l&&(a=c.get(l-1)):l!==c.length-1&&(a=c.get(l+1)),a?(d=e(a).attr("aria-label"),d&&$announcer.html(e("<p>").text(d))):P.close(!0)}else i!=P.$holder[0]||!r&&13!=o?e.contains(P.$root[0],i)&&13==o&&(n.preventDefault(),i.click()):(n.preventDefault(),r?t._.trigger(P.component.key.go,P,[t._.trigger(r)]):P.$root.find("."+w.highlighted).hasClass(w.disabled)||(P.set("select",P.component.item.highlight),C.closeOnSelect&&P.close(!0)))})),P.trigger("open"))},close:function(e){return $announcer.html(""),e&&(C.editable?i.focus():(P.$holder.off("focus.toOpen").focus(),setTimeout(function(){P.$holder.on("focus.toOpen",_)},0))),S.removeClass(w.active),r(i,"expanded",!1),setTimeout(function(){P.$root.removeClass(w.opened+" "+w.focused),r(P.$root[0],"hidden",!0)},0),k.open?(k.open=!1,x&&u.css("overflow","").css("padding-right","-="+o()),c.off("."+k.id),P.trigger("close")):P},clear:function(e){return P.set("clear",null,e)},set:function(t,n,o){var r,i,a=e.isPlainObject(t),d=a?t:{};if(o=a&&e.isPlainObject(n)?n:o||{},t){a||(d[t]=n);for(r in d)i=d[r],r in P.component.item&&(void 0===i&&(i=null),P.component.set(r,i,o)),("select"==r||"clear"==r)&&S.val("clear"==r?"":P.get(r,C.format)).trigger("change");P.render()}return o.muted?P:P.trigger("set",d)},get:function(e,n){if(e=e||"value",null!=k[e])return k[e];if("valueSubmit"==e){if(P._hidden)return P._hidden.value;e="value"}if("value"==e)return i.value;if(e in P.component.item){if("string"==typeof n){var o=P.component.get(e);return o?t._.trigger(P.component.formats.toString,P.component,[n,o]):""}return P.component.get(e)}},on:function(t,n,o){var r,i,a=e.isPlainObject(t),d=a?t:{};if(t){a||(d[t]=n);for(r in d)i=d[r],o&&(r="_"+r),k.methods[r]=k.methods[r]||[],k.methods[r].push(i)}return P},off:function(){var e,t,n=arguments;for(e=0,namesCount=n.length;e<namesCount;e+=1)t=n[e],t in k.methods&&delete k.methods[t];return P},trigger:function(e,n){var o=function(e){var o=k.methods[e];o&&o.map(function(e){t._.trigger(e,P,[n])})};return o("_"+e),o(e),P}};return new O}function n(e){var t,n="position";return e.currentStyle?t=e.currentStyle[n]:window.getComputedStyle&&(t=getComputedStyle(e)[n]),"fixed"==t}function o(){if(u.height()<=s.height())return 0;var t=e('<div style="visibility:hidden;width:100px" />').appendTo("body"),n=t[0].offsetWidth;t.css("overflow","scroll");var o=e('<div style="width:100%" />').appendTo(t),r=o[0].offsetWidth;return t.remove(),n-r}function r(t,n,o){if(e.isPlainObject(n))for(var r in n)i(t,r,n[r]);else i(t,n,o)}function i(e,t,n){e.setAttribute(("role"==t?"":"aria-")+t,n)}function a(t,n){e.isPlainObject(t)||(t={attribute:n}),n="";for(var o in t){var r=("role"==o?"":"aria-")+o,i=t[o];n+=null==i?"":r+'="'+t[o]+'"'}return n}function d(){try{return document.activeElement}catch(e){}}var s=e(window),c=e(document),u=e(document.documentElement),l=null!=document.documentElement.style.transition,f="datepicker-assertiveannouncer";$announcer=e("#"+f);var p=["\u05d9\u05e0\u05d5\u05d0\u05e8","\u05e4\u05d1\u05e8\u05d5\u05d0\u05e8","\u05de\u05e8\u05e5","\u05d0\u05e4\u05e8\u05d9\u05dc","\u05de\u05d0\u05d9","\u05d9\u05d5\u05e0\u05d9","\u05d9\u05d5\u05dc\u05d9","\u05d0\u05d5\u05d2\u05d5\u05e1\u05d8","\u05e1\u05e4\u05d8\u05de\u05d1\u05e8","\u05d0\u05d5\u05e7\u05d8\u05d5\u05d1\u05e8","\u05e0\u05d5\u05d1\u05de\u05d1\u05e8","\u05d3\u05e6\u05de\u05d1\u05e8"];return $announcer.length||($announcer=jQuery("<div>").attr({id:f,role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("hsg-display-sr"),e("body").append($announcer)),$announcer.html(e("<p>").text("")),t.klasses=function(e){return e=e||"picker",{picker:e,opened:e+"--opened",focused:e+"--focused",input:e+"__input",active:e+"__input--active",target:e+"__input--target",holder:e+"__holder",frame:e+"__frame",wrap:e+"__wrap",box:e+"__box"}},t._={group:function(e){for(var n,o="",r=t._.trigger(e.min,e);r<=t._.trigger(e.max,e,[r]);r+=e.i)n=t._.trigger(e.item,e,[r]),o+=t._.node(e.node,n[0],n[1],n[2]);return o},node:function(t,n,o,r){return n?(n=e.isArray(n)?n.join(""):n,o=o?' class="'+o+'"':"",r=r?" "+r:"","<"+t+o+r+">"+n+"</"+t+">"):""},lead:function(e){return(10>e?"0":"")+e},trigger:function(e,t,n){return"function"==typeof e?e.apply(t,n||[]):e},digits:function(e){return/\d/.test(e[1])?2:1},isDate:function(e){return{}.toString.call(e).indexOf("Date")>-1&&this.isInteger(e.getDate())},isInteger:function(e){return{}.toString.call(e).indexOf("Number")>-1&&e%1===0},ariaAttr:a},t.extend=function(n,o){e.fn[n]=function(r,i){var a=this.data(n);return"picker"==r?a:a&&"string"==typeof r?t._.trigger(a[r],a,[i]):this.each(function(){var i=e(this);i.data(n)||new t(this,n,o,r)})},e.fn[n].defaults=o.defaults},t});